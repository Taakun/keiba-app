# **AI馬券プランナー**

これは、あなたの競馬予想をサポートするためのStreamlit製Webアプリケーションです。出走馬に予想印を付けると、OpenAIのAIが馬券の買い目や資金配分を提案してくれます。  
webアプリは[こちら](https://keiba-ai-horse-planner.streamlit.app/)から!


## **主な機能**

* **レース選択機能**: dataフォルダ内にあるCSVファイルから、予想したいレースを簡単に選択できます。  
* **直感的な予想印入力**: 使いやすいインターフェースで、各出走馬に「◎, ◯, ▲, △」といった予想印を付けられます。  
* **AIによる買い目提案**:  
  * あなたが付けた印と選択した戦略（例：「高配当狙い」「的中率重視」など）を基に、AI（gpt-4o）が最適な買い目を提案します。  
  * 提案される券種は単勝、複勝、馬連、ワイド、3連複、3連単など多岐にわたります。  
* **予算に応じた資金配分**:  
  * AIが提案した買い目に対して、設定した予算内でどのように資金を配分すれば良いかをAIが具体的に提案します。

## **画面イメージ**

### **印の入力画面**
<img src="https://github.com/user-attachments/assets/8072fd89-c5b6-49b8-9361-b8d9027df235" width="50%" />

### **AIによる提案画面**
<img src="https://github.com/user-attachments/assets/cbc5d662-a248-4fa2-9788-5fb11dd731db" width="30%" /> |


## **使用方法**

### **準備**

1. **リポジトリのクローンまたはダウンロード**  
2. **必要なライブラリのインストール**  
   pip install streamlit pandas openai

3. **レースデータの準備**  
   * プロジェクト内に data フォルダを作成してください。  
   * 予想したいレースの出馬表をCSV形式で data フォルダに保存します。  
   * CSVファイルには、少なくとも 馬番, 馬名, オッズ, 人気 の列が含まれている必要があります。  
   * サンプルCSV: data/2024\_天皇賞(秋).csv, data/2025\_日本ダービー.csv  
4. **OpenAI APIキーの準備**  
   * [OpenAIの公式サイト](https://platform.openai.com/account/api-keys)でAPIキーを取得してください。

### **アプリの起動**

1. ターミナルで以下のコマンドを実行します。  
   streamlit run app.py

2. Webブラウザでアプリが開きます。  
3. サイドバーでご自身のOpenAI APIキーを入力・設定してください。  
4. レースを選択し、予想印を入力してAIの提案をお楽しみください。

## **ファイル構成**

.  
├── .gitignore          \# Gitの追跡対象外ファイルを指定  
├── app.py              \# アプリケーションのメインスクリプト  
├── requirements.py     \# 必要なpythonライブラリ  
└── data/  
    ├── 2024\_天皇賞(秋).csv  \# レースデータのサンプル  
    └── 2025\_日本ダービー.csv \# レースデータのサンプル

## **注意事項**

* 本アプリのAIによる提案は、あくまで馬券購入の参考情報です。的中を保証するものではありません。  
* APIキーは厳重に管理してください。外部に漏洩しないよう、取り扱いには十分ご注意ください。
